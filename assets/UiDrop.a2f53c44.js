import{d as C,c as k,e as r,F as g,k as v,o as l,n as _,t as f,i as h,v as w,u as S,f as s,m as I,p as b,q as y,l as B,U as D,s as U,h as $,_ as q}from"./index.c94f3322.js";const j={class:"stats"},O={class:"stats__list"},P={class:"stats__label"},V=["onUpdate:modelValue"],H=["onUpdate:modelValue"],N={class:"stat-buttons"},W=["onClick"],z=["onClick"],G=C({__name:"CharStats",props:{stats:{type:Object,required:!0},hirelingIndex:{type:Number,required:!1,default:null}},emits:["growStat","downStat"],setup(d,{emit:a}){const o=d,c=a,m=(t,e)=>{c("growStat",{stat:t,maxValue:e})},u=t=>{c("downStat",{stat:t})};return(t,e)=>(l(),k("div",j,[e[2]||(e[2]=r("span",{class:"stats__info stats__max"},"Max",-1)),e[3]||(e[3]=r("span",{class:"stats__info stats__current"},"Current",-1)),r("div",O,[(l(!0),k(g,null,v(o.stats,i=>(l(),k("div",{key:i.name,class:_(["stats__item",i.name==="hp"&&"stats__hp"])},[r("label",P,f(i.name),1),h(r("input",{"onUpdate:modelValue":n=>i.max=n,type:"number",class:"stats__input",readonly:""},null,8,V),[[w,i.max]]),h(r("input",{"onUpdate:modelValue":n=>i.current=n,type:"number",class:"stats__input",readonly:""},null,8,H),[[w,i.current]]),r("div",N,[r("button",{class:"stat-buttons__button stat-buttons__button--grow",onClick:n=>m(i.name,i.max)},e[0]||(e[0]=[r("p",null,"+",-1)]),8,W),r("button",{class:"stat-buttons__button stat-buttons__button--down",onClick:n=>u(i.name)},e[1]||(e[1]=[r("p",null,"-",-1)]),8,z)])],2))),128))])]))}});const F=["id","data-index","data-warband"],M={key:0,class:"body-items__name"},E=["id","data-index","data-warband"],L={key:0,class:"pack-items__name"},J=C({__name:"CharInventory",props:{bodyBack:{type:Object,required:!0},packBack:{type:Object,required:!0},hirelingIndex:{type:Number,required:!1,default:null},isWarband:{type:String||null,required:!1,default:null}},setup(d){const a=d,o=S(),c=(u,t)=>{typeof a.hirelingIndex!="number"?u>+a.bodyBack[t].item.used?o.updateItems("bodyBack",{...a.bodyBack,[t]:{name:a.bodyBack[t].name,item:{...a.bodyBack[t].item,used:u}}}):o.updateItems("bodyBack",{...a.bodyBack,[t]:{name:a.bodyBack[t].name,item:{...a.bodyBack[t].item,used:+a.bodyBack[t].item.used-1}}}):u>+a.bodyBack[t].item.used?o.updateHirelingItems("bodyBack",{...a.bodyBack,[t]:{name:a.bodyBack[t].name,item:{...a.bodyBack[t].item,used:u}}},a.hirelingIndex):o.updateHirelingItems("bodyBack",{...a.bodyBack,[t]:{name:a.bodyBack[t].name,item:{...a.bodyBack[t].item,used:+a.bodyBack[t].item.used-1}}},a.hirelingIndex)},m=(u,t)=>{typeof a.hirelingIndex!="number"?u>+a.packBack[t].item.used?o.updateItems("packBack",{...a.packBack,[t]:{name:a.packBack[t].name,item:{...a.packBack[t].item,used:u}}}):o.updateItems("packBack",{...a.packBack,[t]:{name:a.packBack[t].name,item:{...a.packBack[t].item,used:+a.packBack[t].item.used-1}}}):u>+a.packBack[t].item.used?o.updateHirelingItems("packBack",{...a.packBack,[t]:{name:a.packBack[t].name,item:{...a.packBack[t].item,used:u}}},a.hirelingIndex):o.updateHirelingItems("packBack",{...a.packBack,[t]:{name:a.packBack[t].name,item:{...a.packBack[t].item,used:+a.packBack[t].item.used-1}}},a.hirelingIndex)};return(u,t)=>(l(),k("div",{class:_(["inventory",Object.keys(d.bodyBack).length===2&&"inventory--hireling"])},[r("div",{class:_(["body-items",Object.keys(d.bodyBack).length===2&&"body-items--hireling"])},[(l(!0),k(g,null,v(d.bodyBack,(e,i)=>(l(),k("div",{id:e.name.toString(),key:`it__${e}`,"data-index":d.hirelingIndex,"data-warband":d.isWarband,class:"body-items__back",onDrop:t[0]||(t[0]=n=>s(I)(n,"bodyBack",s(o))),onDragover:t[1]||(t[1]=(...n)=>s(b)&&s(b)(...n)),onDragleave:t[2]||(t[2]=(...n)=>s(y)&&s(y)(...n))},[e.item?(l(),B(D,{key:1,item:e.item,onPointClick:n=>c(n,i)},null,8,["item","onPointClick"])):(l(),k("span",M,f(e.name),1))],40,F))),128))],2),r("div",{class:_(["pack-items",Object.keys(d.packBack).length===4&&"pack-items--hireling"])},[(l(!0),k(g,null,v(d.packBack,(e,i)=>{var n;return l(),k("div",{id:e.name.toString(),key:`pb__${e}`,"data-index":d.hirelingIndex,"data-warband":d.isWarband,class:"pack-items__back",onDrop:t[3]||(t[3]=p=>s(I)(p,"packBack",s(o))),onDragover:t[4]||(t[4]=(...p)=>s(b)&&s(b)(...p)),onDragleave:t[5]||(t[5]=(...p)=>s(y)&&s(y)(...p))},[e.item?((n=e.item)==null?void 0:n.group)==="conditions"?(l(),B(U,{key:1,condition:e.item},null,8,["condition"])):(l(),B(D,{key:2,item:e.item,onPointClick:p=>m(p,i)},null,8,["item","onPointClick"])):(l(),k("span",L,f(e.name),1))],40,E)}),128))],2)],2))}});const T=C({__name:"UiDrop",props:{width:{default:221}},setup(d){const a=S();return(o,c)=>(l(),k("div",{class:"input",style:$({width:`${o.width}px`}),onDrop:c[0]||(c[0]=m=>s(I)(m,"drop",s(a))),onDragover:c[1]||(c[1]=(...m)=>s(b)&&s(b)(...m)),onDragleave:c[2]||(c[2]=(...m)=>s(y)&&s(y)(...m))},c[3]||(c[3]=[r("label",{id:"drop",class:"label"},"Drop item here to remove",-1)]),36))}});const K=q(T,[["__scopeId","data-v-32a6853d"]]);export{K as U,G as _,J as a};
