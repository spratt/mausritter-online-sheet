import{d as v,u as f,a as $,b as H,o as p,c,e as s,f as i,g as m,w as L,n as B,h as U,i as b,v as S,j as g,_ as x,r as V,F as y,t as k,k as D,l as w}from"./index.c94f3322.js";import{_ as C,U as P,a as I}from"./UiDrop.a2f53c44.js";const M={class:"info"},N={key:0,for:"upload",class:"label"},j={class:"info__stats"},z={class:"exp-input"},F=["disabled"],R=v({__name:"CharInfo",setup(d){const e=f(),_=$(),u=H(),l=()=>_.setPopup("levelUp"),h=o=>{const t=o.target.files,r=new FileReader;if(t&&t.length>0&&t[0].size/1024**2>2){u.setNotification({type:"error",message:"Your file is to big"});return}r.onload=()=>{r.result&&e.setPortrait(r.result.toString())},t&&t[0]&&r.readAsDataURL(t[0])},n=o=>{const t=e.stats[o.stat];t&&t.current<o.maxValue&&e.setStat(o.stat,+t.current+1)},a=o=>{const t=e.stats[o.stat];t&&t.current>0&&e.setStat(o.stat,+t.current-1)};return(o,t)=>(p(),c("div",M,[s("div",{class:B(["portrait",{uploaded:i(e).portrait}]),style:U({backgroundImage:`url(${i(e).portrait})`})},[s("input",{id:"upload",ref:"upload",type:"file",class:"input",accept:"image/png, image/jpeg",onChange:t[0]||(t[0]=r=>h(r))},null,544),i(e).portrait?m("",!0):(p(),c("label",N," Upload portrait (up to 2 MB) ")),i(e).portrait?(p(),c("button",{key:1,class:"clear",onClick:t[1]||(t[1]=L(r=>i(e).setPortrait(null),["prevent"]))},t[6]||(t[6]=[s("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M1 1L8 8M15 15L8 8M8 8L15 1L1 15",stroke:"#272727","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))):m("",!0)],6),s("div",j,[s("div",z,[t[8]||(t[8]=s("label",{class:"exp-input__label"},"Level / Exp",-1)),b(s("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>i(e).level=r),class:"exp-input__input exp-input__level",readonly:""},null,512),[[S,i(e).level]]),t[9]||(t[9]=s("span",{class:"exp-input__devider"},"/",-1)),b(s("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>i(e).exp=r),class:"exp-input__input exp-input__exp",readonly:""},null,512),[[S,i(e).exp]]),s("button",{class:"exp-input__add",disabled:!i(e).name,onClick:l},t[7]||(t[7]=[s("p",null,"+",-1)]),8,F)]),g(C,{stats:i(e).stats,onGrowStat:t[4]||(t[4]=r=>n(r)),onDownStat:t[5]||(t[5]=r=>a(r))},null,8,["stats"])])]))}});const E=x(R,[["__scopeId","data-v-9a6aab27"]]),G={class:"items__header"},A={class:"pips-input"},T=["value"],Y=v({__name:"CharItems",setup(d){const e=f(),_=u=>e.setValue("pips",+u.value);return(u,l)=>{const h=V("maska");return p(),c(y,null,[s("header",G,[l[2]||(l[2]=s("h2",{class:"items__heading"}," Inventory ",-1)),g(P),s("div",A,[l[1]||(l[1]=s("label",{class:"pips-input__label"},"Pips",-1)),b(s("input",{class:"pips-input__input",value:i(e).pips,onInput:l[0]||(l[0]=n=>_(n.target))},null,40,T),[[h,"###"]])])]),g(I,{"body-back":i(e).bodyBack,"pack-back":i(e).packBack},null,8,["body-back","pack-back"])],64)}}});const q={class:"hireling"},J={class:"header"},K={class:"heading"},O={class:"details"},Q={class:"wrapper"},W=v({__name:"HirelingCard",props:{hireling:{}},setup(d){const e=f(),_=$(),u=n=>{if(typeof d.hireling.index=="number"){const a=e.hirelings[d.hireling.index].stats[n.stat];a&&a.current<n.maxValue&&e.setHirelingStat(n.stat,+a.current+1,d.hireling.index)}},l=n=>{if(typeof d.hireling.index=="number"){const a=e.hirelings[d.hireling.index].stats[n.stat];a&&a.current>0&&e.setHirelingStat(n.stat,+a.current-1,d.hireling.index)}},h=n=>{typeof n=="number"&&(_.setPopup("removeHireling"),e.setHirelingIndex(n))};return(n,a)=>(p(),c("div",q,[s("div",J,[s("h3",K,k(n.hireling.name),1),typeof n.hireling.index=="number"?(p(),c("button",{key:0,class:"remove",onClick:a[0]||(a[0]=o=>h(n.hireling.index))}," Remove ")):m("",!0)]),s("div",O," Look: "+k(n.hireling.details),1),s("div",Q,[g(C,{stats:n.hireling.stats,"hireling-index":n.hireling.index,onGrowStat:a[1]||(a[1]=o=>u(o)),onDownStat:a[2]||(a[2]=o=>l(o))},null,8,["stats","hireling-index"]),g(I,{"body-back":n.hireling.bodyBack,"pack-back":n.hireling.packBack,"hireling-index":n.hireling.index},null,8,["body-back","pack-back","hireling-index"])])]))}});const X=x(W,[["__scopeId","data-v-9c0b55a7"]]),Z={class:"hirelings"},tt={class:"header"},et={class:"count"},st={key:0,class:"list"},nt=v({__name:"HirelingsList",setup(d){const e=f();return(_,u)=>(p(),c("div",Z,[s("div",tt,[u[0]||(u[0]=s("h2",{class:"heading"}," Hirelings ",-1)),s("span",et,k(i(e).hirelings.length),1)]),i(e).hirelings?(p(),c("div",st,[(p(!0),c(y,null,D(i(e).hirelings,l=>(p(),w(X,{key:`hr__${l}`,hireling:l},null,8,["hireling"]))),128))])):m("",!0)]))}});const it=x(nt,[["__scopeId","data-v-bbe33171"]]),ot=v({__name:"CharCard",setup(d){const e=f();return(_,u)=>(p(),c(y,null,[g(E),g(Y),i(e).hirelings.length?(p(),w(it,{key:0})):m("",!0)],64))}});export{ot as default};
